# Linch Kit 项目总览

## 🎯 项目定位

Linch Kit 是一个 **AI-First 快速开发框架 + AI-First 企业级应用**，专注于智能化企业级管理系统开发：

### 🤖 AI-First 核心特色
- **AI 理解优先**: 所有代码、配置、文档都便于 AI 理解和处理
- **智能开发体验**: AI 辅助代码生成、配置管理、错误诊断
- **自动化工具链**: AI 驱动的构建、测试、部署流程

### 🚀 快速开发框架
- **模块化架构**: 基于 Odoo 理念的业务模块系统，支持灵活组合
- **运行时插件**: 业务模块和功能插件统一管理，支持热插拔
- **Schema 驱动**: 使用 Zod 作为单一数据源，自动生成 Prisma、验证器、Mock 数据
- **动态扩展**: CLI 和配置系统支持其他包动态注册命令和配置
- **跨模块事务**: 支持分布式事务管理，确保数据一致性

### 🏢 企业级应用
- **开箱即用**: 内置权限、工作流、任务调度等企业功能
- **模块组合**: 按需启用业务模块，形成不同的应用组合
- **可扩展性**: 支持大规模团队和复杂业务场景
- **最佳实践**: 集成企业级开发和部署最佳实践

## 🏗️ 技术架构

### 核心技术栈
- **前端**: Next.js + React + TypeScript + Tailwind CSS
- **UI 组件**: shadcn/ui (基于 Radix UI) + 自研 CRUD 组件
- **API 层**: tRPC + Next.js API Routes
- **数据层**: Prisma ORM + PostgreSQL (支持多种数据库)
- **认证**: NextAuth.js (模块化权限系统)
- **构建工具**: Turborepo + pnpm
- **Schema**: Zod (类型安全的数据验证)
- **插件系统**: 运行时模块加载和管理

### Monorepo 结构
```
linch-kit/
├── apps/
│   ├── starter/             # 应用启动器 (Next.js)
│   └── docs/                # 文档站点 (规划中)
├── packages/
│   ├── core/                # 核心基础设施 (CLI、配置、工具)
│   ├── plugin-system/       # 运行时插件系统 (规划中)
│   ├── schema/              # Schema 系统 ✅ 已发布
│   ├── auth-core/           # 认证核心 (重构中)
│   ├── trpc/                # tRPC 集成 (独立包)
│   ├── ui/                  # UI 组件库
│   ├── crud/                # 通用 CRUD 视图 (规划中)
│   └── types/               # 共享类型定义
├── modules/                 # 业务模块 (规划中)
│   ├── module-wms/          # 仓储管理模块
│   ├── module-crm/          # 客户关系管理模块
│   └── module-hr/           # 人力资源模块
└── plugins/                 # 功能插件 (规划中)
    ├── plugin-wms-barcode/  # WMS 条码扫描插件
    ├── plugin-multi-tenant/ # 多租户插件
    └── plugin-workflow/     # 工作流插件
```

## 🚀 当前开发状态 (2025-06-19)

### ✅ 已完成
1. **基础架构搭建**
   - Turborepo monorepo 结构
   - 基础包结构和构建配置
   - TypeScript 配置和类型系统
   - 完整的开发工具链和脚本

2. **@linch-kit/schema 包** ✅ **已发布到 npm**
   - Zod 优先的 Schema 定义系统
   - 自动生成 Prisma schema
   - 验证器生成 (create/update/response/query)
   - Mock 数据生成
   - OpenAPI 文档生成
   - CLI 工具 (`linch-schema`)
   - 软删除支持
   - 配置文件系统
   - 完整的文档和示例

3. **@linch-kit/core 包** ✅ **核心基础设施完成**
   - 统一的 CLI 系统
   - 动态配置管理
   - 插件发现和加载 (CLI 插件)
   - AI-First 设计架构
   - 工具函数库

4. **@linch-kit/auth-core 包** ✅ **认证系统重构完成**
   - 模块化权限系统
   - 多种认证提供商支持
   - JWT 会话管理
   - 企业级权限管理 (RBAC/ABAC)
   - 多租户支持
   - 国际化支持

5. **@linch-kit/types 包** ✅ **类型定义完成**
   - 共享 TypeScript 类型定义
   - 跨包类型一致性

6. **@linch-kit/ui 包** ✅ **UI 组件库基础完成**
   - 基于 shadcn/ui 的组件库
   - 深色/浅色主题支持
   - 响应式设计

### 🔄 进行中 (当前重点)
1. **Starter 应用功能验证**
   - 验证各包在实际应用中的集成
   - 完整的用户管理功能实现
   - 数据库集成和 CRUD 操作验证
   - CLI 工具功能验证

2. **@linch-kit/trpc 包开发**
   - tRPC 集成和配置
   - 类型安全的 API 层

3. **@linch-kit/crud 包开发**
   - 通用 CRUD 视图组件
   - 数据表格和表单组件

### 📋 下一步计划 (按优先级)
1. **完成 Starter 验证** (当前任务)
   - 实现完整的用户注册/登录流程
   - 验证数据库操作和 Prisma 集成
   - 验证 CLI 命令功能
   - 验证包之间的协作

2. **完善 tRPC 包**
   - 完成 tRPC 集成包开发
   - 提供类型安全的 API 层

3. **开发 CRUD 包**
   - 实现通用 CRUD 组件
   - 数据表格和表单生成

4. **插件系统实现**
   - 运行时插件系统
   - 消息/事件总线机制
   - 跨模块通信

## 🎯 核心价值主张

### 对开发者
- **快速启动**: 几分钟内搭建完整的管理系统
- **类型安全**: 端到端 TypeScript 支持
- **最佳实践**: 内置企业级开发模式
- **可扩展**: 插件化架构支持业务扩展

### 对企业
- **降低成本**: 减少重复开发工作
- **提高效率**: 标准化的开发流程
- **易于维护**: 清晰的架构和文档
- **业务聚焦**: 专注业务逻辑而非基础设施

## 🔮 未来愿景

1. **成为企业级管理系统的首选框架**
2. **建立丰富的插件生态系统**
3. **支持跨框架使用 (Vue/React)**
4. **提供 SaaS 化的插件市场**

## 📊 项目指标 (2025-06-19)

- **包数量**: 7 个核心包 (core, schema, auth-core, types, ui, trpc, crud)
- **开发进度**:
  - ✅ Schema 系统 100% 完成并发布
  - ✅ Core 基础设施 95% 完成
  - ✅ Auth-core 重构 90% 完成
  - 🔄 Starter 验证进行中
  - 🔄 tRPC 包开发中
- **文档覆盖**: 核心功能已有完整文档和 AI 上下文
- **测试覆盖**: 待完善 (下一阶段重点)
- **发布状态**: @linch-kit/schema 已发布到 npm
- **架构决策**: 插件系统、CLI 统一、配置管理等关键决策已确定

## 🎯 当前任务重点

### 主要目标
通过 Starter 应用验证所有核心包的功能和集成，确保：
1. 用户注册/登录完整流程
2. 数据库操作和 Prisma 集成
3. CLI 工具正常工作
4. 包之间协作无误

### 验证方案
- 实现完整的用户管理系统
- 验证 auth-core 的认证和权限功能
- 验证 schema 的数据模式生成
- 验证 core 的 CLI 和配置功能
- 验证 UI 组件的使用
