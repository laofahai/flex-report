# LinchKit 开发路线图

## 🎯 当前焦点：核心体验升级计划

**状态**: 基于双AI协商确认，从"构建框架"转向"优化应用体验"  
**策略转变**: 维持6+1稳定架构，专注用户体验和企业级功能完善

## 🚀 三阶段实施计划

### 阶段一：核心体验升级 (极高优先级, 3-4周)

#### 🔄 进行中的任务

**1. 多标签页工作区布局** (1-2周)
- **目标**: 实现企业级应用的核心交互体验
- **技术栈**: Zustand + Next.js 并行路由
- **功能特性**: 
  - 类似VSCode的多Tab工作模式
  - 标签页拖拽排序、固定、关闭
  - localStorage状态持久化
  - 左右滚动支持
- **状态**: 🔄 规划中

**2. 插件化全局搜索** (1周)
- **目标**: Command Palette风格的全局搜索
- **技术栈**: cmdk + SearchProvider接口
- **集成点**: @linch-kit/core中定义接口
- **功能**: Cmd+K/Ctrl+K快捷键，动态内容注册
- **状态**: 🔄 规划中

**3. Console搜索API集成** (3-5天)
- **目标**: 为Console模块提供搜索能力
- **实现**: 专门的tRPC搜索procedure
- **范围**: 租户、用户、权限、插件管理
- **格式**: 标准SearchResult接口
- **状态**: 🔄 规划中

**4. 路由集成规范** (2-3天)
- **目标**: 确保组件间协同工作
- **职责分离**: starter负责外壳，console负责内容
- **状态同步**: 标签页标题与页面内容同步
- **状态**: 🔄 规划中

### 阶段二：Console模块功能完善 (中优先级, 2-3周)

#### 📋 待开发功能

**5. Console内部开发**
- **基础**: 严格按照modules/console/DESIGN.md执行
- **当前状态**: Phase 1完成，进入Phase 2页面组件开发
- **重点功能**:
  - 租户管理CRUD界面
  - 用户权限管理界面  
  - 系统监控面板
  - 插件市场界面
- **状态**: 📋 待开始

### 阶段三：用户体验完善 (中低优先级, 1-2周)

#### 🎨 用户体验增强

**6. 企业级主题定制**
- 租户级别的品牌定制
- 主题色彩和Logo自定义
- 配置动态应用
- **状态**: 📋 待开始

**7. 统一通知系统**
- react-hot-toast集成
- useNotifier hook提供
- tRPC操作自动反馈
- **状态**: 📋 待开始

**8. 数据密度切换**
- 表格"舒适"/"紧凑"视图
- 响应式密度适配
- **状态**: 📋 待开始

## 📅 时间线和里程碑

### 近期目标 (1-2周)
- [ ] 多标签页布局基础实现
- [ ] 全局搜索组件集成
- [ ] Console搜索API开发
- [ ] 路由集成规范确立

### 中期目标 (3-5周)
- [ ] 标签页高级功能(拖拽、固定)
- [ ] Console管理界面完善
- [ ] 企业级主题系统
- [ ] 统一通知系统

### 长期目标 (6-8周)
- [ ] 完整用户体验测试
- [ ] 性能优化和稳定性
- [ ] 文档和示例完善
- [ ] 用户反馈收集和迭代

## 🔄 后续阶段计划: Phase 10 企业级功能扩展

### Phase B: 基础设施完善 (2-3周)
**目标**: 开发生态和文档体系完善

#### Phase B1: 官网+文档平台 (1周)
- 🔄 **应用创建**: `apps/website` Next.js 15 + Nextra
- 📝 **文档迁移**: 现有文档转换为 MDX 格式  
- 🌐 **域名部署**: `kit.linch.tech` 自动部署配置
- 🔗 **内容同步**: API 文档自动生成机制
- 🎨 **UI 复用**: 集成 @linch-kit/ui 组件库

#### Phase B2: 开发流程增强 (3-5天)
- 📋 **流程规范**: 更新开发约束文档同步要求
- 🔄 **Git Hooks**: 文档完整性检查和验证
- 🤖 **CI/CD**: 文档构建和部署自动化
- 📊 **质量监控**: 测试覆盖率、构建性能监控

#### Phase B3: 发布体系优化 (3-5天)  
- 🏷️ **版本管理**: changesets + 语义化版本完善
- ✅ **发布验证**: 文档、测试、构建全通过才能发布
- 🔄 **自动同步**: 发布后官网特性和版本信息自动更新
- 📈 **兼容性**: API 破坏性变更检查和预警

#### Phase B4: 监控和运维 (2-3天)
- 📊 **性能监控**: Web Vitals + 构建时间监控  
- 🐛 **错误追踪**: Sentry 集成和错误报告
- 📈 **使用分析**: 文档访问统计和用户行为
- 🔍 **日志聚合**: 基于 @linch-kit/core 的日志系统

### Phase 10.3: 增强 modules/console (2-3周)
**目标**: 多租户管理和权限界面完善
- **基础**: 利用现有多租户架构
- **扩展功能**:
  - 完整的租户CRUD和生命周期管理
  - 权限管理界面(角色/权限矩阵)
  - 租户配额和计费管理基础
  - 数据隔离安全加固
  - 系统监控和审计界面

### Phase 10.4: 增强 @linch-kit/core (1-2周)
**目标**: 实时通知和事件系统基础
- **基础**: 利用现有audit系统和插件架构
- **扩展功能**:
  - 事件系统基础设施
  - WebSocket实时通信支持
  - 完善审计日志框架（保留在core中）
  - 通知管理核心功能

### Phase 10.5: 整合优化 (1周)
**目标**: 功能集成和性能优化
- 跨包功能集成测试
- 性能监控和优化
- 文档和示例完善

## 🎯 成功指标

### 用户体验指标
- **工作效率**: 多页面同时操作，快速切换
- **功能发现**: 全局搜索快速定位任何功能
- **视觉一致**: 企业级品牌定制

### 技术质量指标
- **性能**: 标签页切换<200ms，搜索响应<500ms
- **稳定性**: 无构建错误，完整测试覆盖
- **兼容性**: 主流浏览器支持，响应式设计

### 架构清晰度
- **职责分离**: starter和console边界明确
- **接口标准**: SearchProvider接口可被其他模块复用
- **扩展性**: 新模块轻松集成多标签页和搜索

## 💡 关键决策记录

1. **多Tab vs Breadcrumb**: 经双AI协商，多Tab更适合企业应用
2. **Console定位**: 确认为功能库，集成到starter使用
3. **搜索架构**: 插件化设计，支持多模块联邦搜索
4. **技术选型**: 优先成熟第三方库，避免重复造轮子
5. **开发顺序**: 用户体验升级优先于内部功能完善

## ⚠️ 风险和挑战

### 技术风险
- **多标签页性能**: 大量标签页可能影响性能
- **搜索响应速度**: 大数据量时搜索性能优化
- **状态管理复杂度**: Zustand在复杂场景下的表现

### 解决方案
- **虚拟化**: 标签页虚拟滚动，只渲染可见标签
- **搜索优化**: 防抖、缓存、分页加载
- **状态分割**: 按功能模块分割状态管理